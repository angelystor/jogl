# This .cfg file is used to generate the GL interface and implementing class.
JavaOutputDir gensrc/classes
NativeOutputDir gensrc/native/jogl/gl4

ExtendedInterfaceSymbolsOnly ../build-temp/gensrc/classes/javax/media/opengl/GL.java
ExtendedInterfaceSymbolsOnly ../build-temp/gensrc/classes/javax/media/opengl/GL2ES1.java
ExtendedInterfaceSymbolsOnly ../build-temp/gensrc/classes/javax/media/opengl/GL2ES2.java
ExtendedInterfaceSymbolsOnly ../build-temp/gensrc/classes/javax/media/opengl/GL2GL3.java
ExtendedInterfaceSymbolsOnly ../build-temp/gensrc/classes/javax/media/opengl/GL2.java
ExtendedInterfaceSymbolsOnly ../build-temp/gensrc/classes/javax/media/opengl/GL3.java
ExtendedInterfaceSymbolsOnly ../build-temp/gensrc/classes/javax/media/opengl/GL4.java
ExtendedInterfaceSymbolsOnly ../build-temp/gensrc/classes/javax/media/opengl/GL3bc.java
ExtendedInterfaceSymbolsOnly ../src/jogl/classes/javax/media/opengl/GLBase.java
ExtendedInterfaceSymbolsOnly ../src/jogl/classes/javax/media/opengl/fixedfunc/GLMatrixFunc.java
ExtendedInterfaceSymbolsOnly ../src/jogl/classes/javax/media/opengl/fixedfunc/GLPointerFunc.java
ExtendedInterfaceSymbolsOnly ../src/jogl/classes/javax/media/opengl/fixedfunc/GLLightingFunc.java

# Package javax.media.opengl
# remember to change jni file too if changing package
Package jogamp.opengl.gl4
Style AllStatic
JavaClass GL4Static


Include gl-common.cfg
Include gl-common-extensions.cfg
Include gl-desktop.cfg
Include gl3-desktop.cfg

#es2 context dependent checking for extension availability
# Include gl2_es2-common.cfg

# Manually implement glMapNamedBufferEXT as the size of the returned buffer
# can only be computed by calling another routine
ManuallyImplement glMapNamedBufferEXT
ForceProcAddressGen glMapNamedBufferEXT
# JavaEpilogue glNamedBufferDataEXT bufferSizeTracker.setDirectStateBufferSize({0}, this, {1});

# Force all of the methods to be emitted using dynamic linking so we
# don't need to link against any emulation library on the desktop or
# depend on the presence of an import library for a particular device
ForceProcAddressGen __ALL__

# Also force the calling conventions of the locally generated function
# pointer typedefs for these routines to APIENTRY
LocalProcAddressCallingConvention __ALL__ APIENTRY

EmitProcAddressTable false
# or can remove this, if remove this then it's dependent on GL4bc to generate
ProcAddressTableClassName GL4bcProcAddressTable
GetProcAddressTableExpr ((GL4bcProcAddressTable)procAddressTable)

# Pick up on-line OpenGL javadoc thanks to user cylab on javagaming.org forums
TagNativeBinding true

# Ignore extensions that are already picked up via the GL2ES1 interface
IgnoreExtension GL_EXT_point_parameters

# Add PixelStorei StateTracker
# these lines are commented out as we want to disable all checks (buffer state and buffer size)
# CustomJavaCode GL4Static private static final int params_offset = 0; // just a helper for JavaPrologue ..

# JavaPrologue glPixelStorei glStateTracker.setInt(pname, param);
# JavaPrologue glPixelStorei GLContextManager.getCurrentStateTracker().setInt(pname, param);

# JavaPrologue glGetIntegerv if ( glStateTracker.getInt(pname, params, params_offset) ) { return; }
# JavaPrologue glGetIntegerv if (GLContextManager.getCurrentStateTracker().getInt(pname, params, params_offset)) { return; }

# shifted to common.java
# CustomJavaCode GL4Static public static ProcAddressTable procAddressTable = new GL4bcProcAddressTable();


Include gl-headers.cfg
Include gl3ext-headers.cfg
Include ../intptr.cfg

IncludeAs CustomJavaCode GL4Static static/gl-impl-CustomJavaCode-common.java
IncludeAs CustomJavaCode GL4Static static/gl-impl-CustomGLCalls.java
IncludeAs CustomJavaCode GL4Static static/gl-impl-CustomJavaCode-desktop.java
IncludeAs CustomJavaCode GL4Static static/gl-impl-CustomJavaCode-gl2_es2.java

IncludeAs CustomCCode static/gl-impl-CustomCCode-gl4bc.c

Import com.jogamp.common.nio.Buffers
Import com.jogamp.common.util.ReflectionUtil
Import com.jogamp.gluegen.runtime.opengl.GLProcAddressResolver
Import com.jogamp.gluegen.runtime.opengl.GLExtensionNames
# Import com.jogamp.opengl.impl.gl4.GL4bcProcAddressTable
Import java.io.PrintStream
